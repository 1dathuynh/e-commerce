extends ../../layout/default.pug
include ../../mixins/filter-status.pug
include ../../mixins/search.pug
include ../../mixins/pagination.pug

block main 
	h1 Danh sách sản phẩm

	.card-mb-3
		.card-header Bộ lọc và tìm kiếm
		.card-body
			.row
				.col-6
					+filter-status(filterStatus)
					//- Tìm kiếm sản phẩm
				.col-6
					+search(keyword)
			
		
	//- Danh sách sản phẩm
	.card-mb-3
		.card-header Danh sách sản phẩm
		.card-body
			table.table.table-hover.table-sm
				thead
					tr
						th STT 
						th Hình ảnh
						th Tiêu đề
						th Giá
						th Trạng thái
						th Thao tác
				tbody
					each item, index in products
						tr
							td #{index + 1}
									td 
										img(src=item.thumbnail, alt=item.title, width="100px", height="auto")
									td #{item.title}
									td #{item.price}$
									td
										if(item.status == "active") 
											button(class="badge bg-success" data-status=item.status data-id= item.id button-change-status) Hoạt động
										else
											button(class="badge bg-danger" data-status=item.status data-id= item.id button-change-status) Ngừng Hoạt động
									td 
										button(class="btn btn-warning btn-sm") Sửa
										button(class="btn btn-danger btn-sm") Xóa #{path_url}
	.card-mb-3
		+pagination(pagination)

	form(action="" method="POST", id="form-change-status", data-path=`${path_url}/products/change-status`)


		script(src="/admin/js/products.js") 	

